Android Exploitation 

Introduction

First you need to setup an android device if you need to try some mobile hacking. You will have access to a legal virtual android ISO or a virtual machine. We need to download it from https://www.android-x86.org/download and it’s an ISO file just like a virtual disk file that will allow us to create a new android device running in our virtual box environment. 

Then go to https://www.android-x86.org/download and scroll down a little bit and you should be able to find some ISO files. Since I’m on 64 bit machine I’m going to choose Android-x86 64 bit ISO file.

![image](https://user-images.githubusercontent.com/50174329/81887474-cb92b080-95bc-11ea-996b-ce7d1fcbc216.png)

Now we will download the Android-x86 64 bit ISO file and it will take few minutes depending on your connection speed and then we will come back to our virtual box as soon as it finishes and start working on the android image. Once the android ISO finished downloading I’m going to start a new virtual machine on Oracle Virtual Box Manager and I’m going to call this Android and the type is going to be Linux and I’m going to choose Version Linux 2.6/3.x/4.x(64 bits). 

![image](https://user-images.githubusercontent.com/50174329/81887548-fbda4f00-95bc-11ea-920b-4e7ba8d37614.png)

For Memory size we will choose a 1024 MB space and create 8GB Hard Disk & a virtual hard disk.

![image](https://user-images.githubusercontent.com/50174329/81887621-2d531a80-95bd-11ea-9f56-5e2f976841fe.png)
![image](https://user-images.githubusercontent.com/50174329/81887632-3348fb80-95bd-11ea-9854-295c12da8fb2.png)

Select Virtual Box Disk Image for hard disk file type. Then dynamically allocate storage on physical hard disk and call it Android. 

![image](https://user-images.githubusercontent.com/50174329/81887714-62f80380-95bd-11ea-8c2f-f6b564c5e345.png)
![image](https://user-images.githubusercontent.com/50174329/81887725-67bcb780-95bd-11ea-8ae0-475caf13e22f.png)

Then come back to the virtual box and come to the storage and add the ISO file to the virtual disk and download the disk and come to download and choose the downloaded file and click ok.

![image](https://user-images.githubusercontent.com/50174329/81887802-92a70b80-95bd-11ea-80e3-23ff9516b7ee.png)
![image](https://user-images.githubusercontent.com/50174329/81887812-98045600-95bd-11ea-9b9a-68d4f3130454.png)

Then start up the Android Device. We are going to install Android x86 to the hard disk. Inside here we are going to create modify partition and we don’t want to use GPT. 

![image](https://user-images.githubusercontent.com/50174329/81887892-c3874080-95bd-11ea-9a86-3ce7d8aef2d0.png)
![image](https://user-images.githubusercontent.com/50174329/81887897-c7b35e00-95bd-11ea-9ccb-f50a92ae9e8c.png)

We will create New, Primary, Partition and the Size is fine. It will be bootable and click bootable and move over to write. Choose write and yes and after we write quit.

![image](https://user-images.githubusercontent.com/50174329/81887949-ed406780-95bd-11ea-95ad-3c0fd282b930.png)
![image](https://user-images.githubusercontent.com/50174329/81887956-f29db200-95bd-11ea-86e1-3543dbf7ef65.png)
![image](https://user-images.githubusercontent.com/50174329/81887961-f7626600-95bd-11ea-8665-99a520afc0a5.png)
![image](https://user-images.githubusercontent.com/50174329/81887975-fb8e8380-95bd-11ea-8a77-ab5bbdbee128.png)

It will ask us to create a partition that we are going to install this and click ok and we are going to choose ext4 as our file system to format and we will format the partition and we will install the boot loader pro.

![image](https://user-images.githubusercontent.com/50174329/81888141-5a53fd00-95be-11ea-8ce3-28e4e5edcf4d.png)
![image](https://user-images.githubusercontent.com/50174329/81888145-5e801a80-95be-11ea-9098-0d5eabf7b2c0.png)
![image](https://user-images.githubusercontent.com/50174329/81888156-6475fb80-95be-11ea-8c97-c44748b52275.png)
![image](https://user-images.githubusercontent.com/50174329/81888163-69d34600-95be-11ea-8b59-dba2fb60ce60.png)

Finally we will make the install system read write and need just a moment to get the Android setup and we can choose run Android x86 and hit ok. Now you will see the Android start up screen from Android Mobile Devices and you can setup the device as you like.

![image](https://user-images.githubusercontent.com/50174329/81888237-91c2a980-95be-11ea-8b96-ed561403d446.png)
![image](https://user-images.githubusercontent.com/50174329/81888246-97b88a80-95be-11ea-8b67-d3575bdbcb87.png)

Android Hacking in Kali Linux with Metasploit & Meterpreter

Nine out of ten cell phones that get activated today are an Android device so this is a huge platform for attackers and it is really important for us learn how to secure that as well. In this we will launch an attack in a Google Android device. So let’s start our Android device and check that the network is still our Host-only Adapter and as long as it is selected you are going to be ok for this exercise.

![image](https://user-images.githubusercontent.com/50174329/81888339-c898bf80-95be-11ea-8ebc-bdac12a27fee.png)
![image](https://user-images.githubusercontent.com/50174329/81888353-cd5d7380-95be-11ea-8a41-658c5eb82434.png)

And make sure that your Kali Linux is also running on the same network and double check that it is on the Host-only Adopter and then disconnects and reconnects it to the network. Now you are ready to hack an Android device with Metasploit and Meterpreter. 
Next let’s get back to our Android device. Before we start our Android device we can see that our Android ISO file is still attached to the storage and let’s remove that file from the disk. 

![image](https://user-images.githubusercontent.com/50174329/81888444-f54cd700-95be-11ea-9ade-93b32e4b316b.png)

And now when we start our Android device it should boot up just like a regular Android device. It will automatically boot in just a little bit of time. 

![image](https://user-images.githubusercontent.com/50174329/81888515-18778680-95bf-11ea-90a4-0f181b8e2cb6.png)

Once it boots we are ready to change couple of settings and click on the menu button down and let’s go to Settings. We need to change the settings under the apps so that our Browser can download to our device’s storage. Then we come to Permissions come to storage and turn that on.

![image](https://user-images.githubusercontent.com/50174329/81888562-3ba23600-95bf-11ea-8f52-4c3a74cba7ef.png)
![image](https://user-images.githubusercontent.com/50174329/81888573-3fce5380-95bf-11ea-8664-7be73de177c1.png)

Now open up your browser and if your apache server has just started you will be able to go to http://10.0.3.5/share/ and you should be able to see our APK file there. 

![image](https://user-images.githubusercontent.com/50174329/81888642-6b513e00-95bf-11ea-9e6e-8490402f6599.png)
![image](https://user-images.githubusercontent.com/50174329/81888654-71471f00-95bf-11ea-9530-f2263785ce10.png)

Let’s go one step further let’s go ahead and go up one directory or hit the Parent Directory and let’s go and download an image file just to see that we are able to download an image file and click on the dbnimage file come to save image so that you have change your settings the browser can access the storage and now come back to funnyGame.apk and try the same thing. 

![image](https://user-images.githubusercontent.com/50174329/81888740-9a67af80-95bf-11ea-8c4a-865b4b6b9e39.png)
![image](https://user-images.githubusercontent.com/50174329/81888749-a18ebd80-95bf-11ea-9f71-3d92d6d05602.png)

Let’s get that file download and let’s go to our download folder and we have couple of downloads and funnyGame.apk file and try to run that apk file. Android will let us know that by default the Android will block installation of apps obtained from unknown sources. Let’s go to settings and scroll down to unknown sources and I’m going to enable unknown sources. If anyone wants to download from a third party sources this is the way to download. Let’s click on the funnyGame.apk again and download it fresh and see what that is. Let’s give it a try and click install and then open and nothing is happening.

![image](https://user-images.githubusercontent.com/50174329/81888828-cb47e480-95bf-11ea-9937-512f3c422e58.png)
![image](https://user-images.githubusercontent.com/50174329/81888837-d00c9880-95bf-11ea-91bf-1053650c6633.png)

Let’s come back to Kali Linux Box and Meterpreter says that there is session open on 10.0.3.5.7. Let’s say session –i 1 and say getuid and we are running as user name u0a62 Android and local host is Android 6.0.1 and we are running a meterpreter shell on android from Kali Linux. 

![image](https://user-images.githubusercontent.com/50174329/81888923-f599a200-95bf-11ea-96ae-aa3d3fb07da6.png)

Hack Android Device using Metersploit private files, camera using Kali Linux

Let’s see how we can get to the picture file that we downloaded just a little bit ago. Back in Kali I’m still in Meterpreter and I will run a command like ipconfig and I can see that my android device is at 10.0.3.7 and ls and there is nothing in the metaploit.com folder. 

![image](https://user-images.githubusercontent.com/50174329/81888989-24177d00-95c0-11ea-9dc6-a5ef7cb1cb44.png)
![image](https://user-images.githubusercontent.com/50174329/81888999-2a0d5e00-95c0-11ea-81bc-8d4f353f283f.png)
![image](https://user-images.githubusercontent.com/50174329/81889004-2ed21200-95c0-11ea-86a9-959acdc6136f.png)
![image](https://user-images.githubusercontent.com/50174329/81889019-3396c600-95c0-11ea-806e-7f1a2ceec0ab.png)

And let’s go to the sd card and list the content. We got entire content and let’s go to download and see the download and ls and we can see the fuunyGame.apk file and the logo and let’s go to our home folder and see and I still have that openlogo75.png what I downloaded in that android device. 

![image](https://user-images.githubusercontent.com/50174329/81889075-5628df00-95c0-11ea-866d-5c81f6b5e47a.png)
![image](https://user-images.githubusercontent.com/50174329/81889088-5cb75680-95c0-11ea-8c1c-8e4fd8e11ad9.png)
![image](https://user-images.githubusercontent.com/50174329/81889099-6214a100-95c0-11ea-91d7-8b528eb54f69.png)
![image](https://user-images.githubusercontent.com/50174329/81889111-680a8200-95c0-11ea-8d76-567af26da8ed.png)
![image](https://user-images.githubusercontent.com/50174329/81889121-6c369f80-95c0-11ea-862e-2b77742c4b3b.png)
![image](https://user-images.githubusercontent.com/50174329/81889131-722c8080-95c0-11ea-8e1a-6b325d87f4fe.png)






